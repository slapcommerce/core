---
globs: tests/unit/**/*
alwaysApply: false
---

1. Always run unit test suites with `bun test:unit`.
2. We do not use afterEach, beforeEach, beforeAll, or afterAll hooks.
3. All tests should be idempotent, that means they get unique id's.
4. Always use the arrange, act, assert style pattern.
5. Reference ./tests/unit/infrastructure/eventSerializer.spec.ts with the test description of "should serialize and deserialize event correctly" as an example of a good test. Try and emulate this style when writing your own tests.
6. When you're told to test a file or class, you should first think through and test the happy path, then test any other code paths / error scenarios, then test any edge cases that might arise.
7. When testing a file or class, test the public methods and cover all code paths and error scenarios.
